{"version":3,"sources":["components/Layout/MainHeader.module.css","components/Cart/HeaderCartButton.module.css","components/UI/Modal.module.css","Pages/Authentication/Logout.module.css","components/Cart/cart-dropdown/CartItem.module.css","components/Cart/cart-dropdown/CartDropdown.module.css","components/Cart/Checkout.module.css","components/Cart/CartIcon.js","components/Cart/HeaderCartButton.js","components/UI/Modal.js","Pages/Authentication/Logout.js","components/Cart/cart-dropdown/CartItem.js","components/Cart/cart-dropdown/CartDropdown.js","components/Cart/Checkout.js","components/Layout/MainHeader.js"],"names":["module","exports","CartIcon","xmlns","viewBox","fill","d","HeaderCartButton","props","quantity","useSelector","state","cart","totalQuantity","className","classes","button","onClick","onHandle","icon","badge","Backdrop","backdrop","Overlay","modal","children","modalElement","document","getElementById","Modal","ReactDOM","createPortal","Logout","onCancel","total","actions","onConfirm","CartItem","item","imageUrl","name","price","img","src","alt","CartDropdown","items","length","map","cartItem","id","onGoToCheckout","Checkout","totalPrice","dispatch","useDispatch","useState","isLoading","setIsLoading","userData","auth","userId","history","useHistory","addItem","path","cartActions","removeItem","el","summary","bind","fetch","method","body","JSON","stringify","UserData","headers","then","response","console","log","clearCart","alert","push","catch","error","LoadingSpinner","MainHeader","isLoggedIn","isLogout","setIsLogout","cartDropdown","setCartDropdown","isCheckout","setIsCheckout","header","logo","nav","to","logoutbutton","authActions","setUserData"],"mappings":"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","file":"static/js/3.8f3e81c5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainHeader_header__191z1\",\"logo\":\"MainHeader_logo__1t397\",\"nav\":\"MainHeader_nav__1TclW\",\"active\":\"MainHeader_active__1xew6\",\"logoutbutton\":\"MainHeader_logoutbutton__3_s_P\",\"toggle\":\"MainHeader_toggle__1D0Ee\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__h0DRr\",\"icon\":\"HeaderCartButton_icon__9MBAN\",\"badge\":\"HeaderCartButton_badge__3VxP_\",\"bump\":\"HeaderCartButton_bump__2wB8f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3-2A1\",\"modal\":\"Modal_modal__1R6an\",\"slide-down\":\"Modal_slide-down__3-131\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"total\":\"Logout_total__2_dFP\",\"actions\":\"Logout_actions__3OoBt\",\"button--alt\":\"Logout_button--alt__pDugL\",\"button\":\"Logout_button__3WYri\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__22TXo\",\"img\":\"CartItem_img__1-70V\",\"item-details\":\"CartItem_item-details__1qKNh\",\"name\":\"CartItem_name__QUVFS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-dropdown\":\"CartDropdown_cart-dropdown___IOru\",\"empty-message\":\"CartDropdown_empty-message__CjJdD\",\"cart-items\":\"CartDropdown_cart-items__KXCuN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Checkout_cart-items__3LtMQ\",\"total\":\"Checkout_total__2LLcQ\",\"actions\":\"Checkout_actions__vLx1H\",\"button--alt\":\"Checkout_button--alt__sraGL\",\"button\":\"Checkout_button__3CTmU\",\"cart-item\":\"Checkout_cart-item__2g64m\",\"summary\":\"Checkout_summary__1DBDe\",\"price\":\"Checkout_price__3qq5i\",\"amount\":\"Checkout_amount__1Q3ML\"};","const CartIcon = () => {\r\n    return (\r\n      <svg\r\n        xmlns='http://www.w3.org/2000/svg'\r\n        viewBox='0 0 20 20'\r\n        fill='currentColor'\r\n      >\r\n        <path d='M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z' />\r\n      </svg>\r\n    );\r\n  };\r\n  \r\n  export default CartIcon;\r\n  ","import classes from './HeaderCartButton.module.css';\r\nimport CartIcon from '../Cart/CartIcon';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst HeaderCartButton = (props) => {\r\n    const quantity = useSelector((state) => state.cart.totalQuantity);\r\n\r\n    return <button className={classes.button} onClick={props.onHandle}>\r\n        <span className={classes.icon}>\r\n            <CartIcon />\r\n        </span>\r\n        <span className={classes.badge}>{quantity}</span>\r\n    </button>\r\n}\r\n\r\nexport default HeaderCartButton;","import { Fragment } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport classes from './Modal.module.css';\r\n\r\nconst Backdrop = (props) => {\r\n    return (\r\n        <div className={classes.backdrop}></div>\r\n    );\r\n}\r\n\r\nconst Overlay = (props) => {\r\n    return (\r\n        <div className={classes.modal}>{props.children}</div>\r\n    );\r\n}\r\n\r\nconst modalElement = document.getElementById('modal');\r\n\r\nconst Modal = (props) => {\r\n    return (\r\n        <Fragment>\r\n            {ReactDOM.createPortal(<Backdrop />, modalElement)}\r\n            {ReactDOM.createPortal(<Overlay>{props.children}</Overlay>, modalElement)}\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nexport default Modal;","import React from \"react\";\r\nimport Modal from '../../components/UI/Modal';\r\nimport classes from './Logout.module.css';\r\n\r\nconst Logout = (props) => {\r\n\r\n    return (\r\n        <Modal onClick={props.onCancel}>\r\n            <div className={classes.total}>Are you sure, you want to log out?</div>\r\n            <div className={classes.actions}>\r\n                <button className={classes['button--alt']} onClick={props.onCancel}>Cancel</button>\r\n                <button className={classes.button} onClick={props.onConfirm}>Confirm</button>\r\n            </div>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default Logout;","import React from 'react';\n\nimport classes from './CartItem.module.css'\n\nconst CartItem = (props) => {\n  const { imageUrl, name, quantity, price } = props.item;\n\n  return (\n    <div className={classes[\"cart-item\"]}>\n      <img className={classes.img} src={imageUrl} alt=\"cart item\" />\n      <div className={classes[\"item-details\"]}>\n        <span className={classes.name}>{name}</span>\n        <span className={classes.price}>{quantity} x â‚¹{price}</span>\n      </div>\n    </div>\n  );\n}\n\nexport default CartItem","import React, { Fragment } from 'react';\nimport CartItem from './CartItem';\nimport classes from './CartDropdown.module.css';\nimport { useSelector } from 'react-redux';\n\nconst CartDropdown = (props) => {\n    const { items } = useSelector((state) => state.cart);\n\n    return (\n        <div className={classes['cart-dropdown']}>\n            {items.length !== 0 && <div className={classes['cart-items']}>\n                {items.map(cartItem => (\n                    <CartItem key={cartItem.id} item={cartItem} />\n                ))}\n            </div>}\n            {items.length !== 0 && <button onClick={props.onGoToCheckout}>GO TO CHECKOUT</button>}\n            {items.length === 0 && <p className={classes['empty-message']}>Cart Empty</p>}\n        </div>\n\n    );\n}\n\nexport default CartDropdown;","import React, { Fragment, useState } from \"react\";\r\nimport Modal from '../../components/UI/Modal';\r\nimport classes from './Checkout.module.css';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { cartActions } from '../../store/cart-slice';\r\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst Checkout = (props) => {\r\n    const { items, totalPrice } = useSelector((state) => state.cart);\r\n    const dispatch = useDispatch();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const userData = useSelector((state) => state.auth.userData.userId);\r\n    const history = useHistory();\r\n\r\n    const addItem = (item) => {\r\n        const { id, name, price, path, imageUrl } = item;\r\n\r\n        dispatch(cartActions.addItem({\r\n            id,\r\n            name,\r\n            price,\r\n            path,\r\n            imageUrl\r\n        }));\r\n    }\r\n\r\n    const removeItem = (id) => {\r\n        dispatch(cartActions.removeItem(id));\r\n    }\r\n\r\n    const orderHandler = () => {\r\n        setIsLoading(true);\r\n        fetch('https://online-shopping-c8f55-default-rtdb.firebaseio.com/order.json', {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                items,\r\n                UserData: userData\r\n            }),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            }\r\n        }).then((response) => {\r\n            setIsLoading(false);\r\n            console.log(response);\r\n            dispatch(cartActions.clearCart());\r\n            alert('Order placed!');\r\n            props.onCancel();\r\n            history.push('/home');\r\n\r\n        }).catch((error) => {\r\n            setIsLoading(false);\r\n            // props.onCancel();\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <Modal onClick={props.onCancel}>\r\n            <Fragment>\r\n                {!isLoading && <div className={classes.total}>\r\n                    <span>Total Amount</span>\r\n                    <span>{totalPrice}</span>\r\n                </div>}\r\n                {!isLoading && <ul className={classes['cart-items']}>\r\n                    {items.map(el => {\r\n                        return (\r\n                            <li className={classes['cart-item']}>\r\n                                <div>\r\n                                    <h2>{el.name}</h2>\r\n                                    <div className={classes.summary}>\r\n                                        <span className={classes.price}>{el.price}</span>\r\n                                        <span className={classes.price}>X {el.quantity}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classes.actions}>\r\n                                    <button onClick={addItem.bind(null, el)}>+</button>\r\n                                    <button onClick={removeItem.bind(null, el.id)}>-</button>\r\n                                </div>\r\n                            </li>\r\n                        )\r\n                    })}\r\n                </ul>}\r\n                {!isLoading && <div className={classes.actions}>\r\n                    <button className={classes['button--alt']} onClick={props.onCancel}>Cancel</button>\r\n                    {items.length !== 0 && <button className={classes.button} onClick={orderHandler}> Confirm</button>}\r\n                </div>}\r\n                {isLoading && <LoadingSpinner />}\r\n            </Fragment>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default Checkout;","import classes from './MainHeader.module.css';\nimport { Link, useHistory } from 'react-router-dom';\nimport HeaderCartButton from '../Cart/HeaderCartButton';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useState } from 'react';\nimport Logout from '../../Pages/Authentication/Logout';\nimport { authActions } from '../../store/auth-slice';\nimport CartDropdown from '../Cart/cart-dropdown/CartDropdown';\nimport Checkout from '../Cart/Checkout';\n\nconst MainHeader = (props) => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const isLoggedIn = useSelector((state) => state.auth.userData.isLoggedIn);\n\n  const [isLogout, setIsLogout] = useState(false);\n  const [cartDropdown, setCartDropdown] = useState(false);\n  const [isCheckout, setIsCheckout] = useState(false);\n\n  const onHome = () => {\n    history.push('/');\n  }\n\n  const onConfirmHandler = () => {\n    setIsLogout(false);\n    // localStorage.removeItem('token');\n    dispatch(authActions.setUserData({\n      userId: '',\n      isLoggedIn: false\n    }));\n    history.push('/login');\n  }\n\n  const onCancelHandler = () => {\n    setIsLogout(false);\n  }\n\n  const onLogOut = () => {\n    setIsLogout(true);\n  }\n\n  const onCartDropDown = () => {\n    setCartDropdown(!cartDropdown);\n  }\n\n  const onCheckout = () => {\n    setCartDropdown(false);\n    setIsCheckout(true);\n  }\n\n  const onCancelCheckout = () => {\n    setIsCheckout(false);\n  }\n\n  return (\n    <div>\n      <header className={classes.header}>\n        <div className={classes.logo} onClick={onHome}>Online Shopping</div>\n        <nav className={classes.nav}>\n          <ul>\n            <li>\n              {isLoggedIn && <Link to='/home'>Main Section</Link>}\n            </li>\n            <li>\n              {isLoggedIn && <Link to='/orders'>Orders</Link>}\n            </li>\n            {isLoggedIn && <li>\n              <button className={classes.logoutbutton} onClick={onLogOut} >Log Out</button>\n            </li>}\n            {isLoggedIn && <HeaderCartButton onHandle={onCartDropDown} />}\n          </ul>\n          {isLogout && <Logout onCancel={onCancelHandler} onConfirm={onConfirmHandler} />}\n          {isLoggedIn && cartDropdown && <CartDropdown onGoToCheckout={onCheckout} />}\n          {isCheckout && <Checkout onCancel={onCancelCheckout} />}\n        </nav>\n      </header>\n    </div>\n  );\n};\n\nexport default MainHeader;\n"],"sourceRoot":""}