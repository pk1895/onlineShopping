(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[3],{49:function(t,e,n){t.exports={header:"MainHeader_header__191z1",logo:"MainHeader_logo__1t397",nav:"MainHeader_nav__1TclW",active:"MainHeader_active__1xew6",logoutbutton:"MainHeader_logoutbutton__3_s_P",toggle:"MainHeader_toggle__1D0Ee"}},50:function(t,e,n){t.exports={button:"HeaderCartButton_button__h0DRr",icon:"HeaderCartButton_icon__9MBAN",badge:"HeaderCartButton_badge__3VxP_",bump:"HeaderCartButton_bump__2wB8f"}},51:function(t,e,n){t.exports={backdrop:"Modal_backdrop__3-2A1",modal:"Modal_modal__1R6an","slide-down":"Modal_slide-down__3-131"}},52:function(t,e,n){t.exports={total:"Logout_total__2_dFP",actions:"Logout_actions__3OoBt","button--alt":"Logout_button--alt__pDugL",button:"Logout_button__3WYri"}},53:function(t,e,n){t.exports={"cart-item":"CartItem_cart-item__22TXo",img:"CartItem_img__1-70V","item-details":"CartItem_item-details__1qKNh",name:"CartItem_name__QUVFS"}},54:function(t,e,n){t.exports={"cart-dropdown":"CartDropdown_cart-dropdown___IOru","empty-message":"CartDropdown_empty-message__CjJdD","cart-items":"CartDropdown_cart-items__KXCuN"}},55:function(t,e,n){t.exports={"cart-items":"Checkout_cart-items__3LtMQ",total:"Checkout_total__2LLcQ",actions:"Checkout_actions__vLx1H","button--alt":"Checkout_button--alt__sraGL",button:"Checkout_button__3CTmU","cart-item":"Checkout_cart-item__2g64m",summary:"Checkout_summary__1DBDe",price:"Checkout_price__3qq5i",amount:"Checkout_amount__1Q3ML"}},57:function(t,e,n){"use strict";n.r(e);var a=n(12),c=n(49),o=n.n(c),s=n(2),i=n(15),r=n(50),l=n.n(r),u=n(1),d=function(){return Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(u.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},j=n(9),b=function(t){var e=Object(j.c)((function(t){return t.cart.totalQuantity}));return Object(u.jsxs)("button",{className:l.a.button,onClick:t.onHandle,children:[Object(u.jsx)("span",{className:l.a.icon,children:Object(u.jsx)(d,{})}),Object(u.jsx)("span",{className:l.a.badge,children:e})]})},m=n(0),_=n(13),h=n.n(_),O=n(51),x=n.n(O),p=function(t){return Object(u.jsx)("div",{className:x.a.backdrop})},C=function(t){return Object(u.jsx)("div",{className:x.a.modal,children:t.children})},g=document.getElementById("modal"),f=function(t){return Object(u.jsxs)(m.Fragment,{children:[h.a.createPortal(Object(u.jsx)(p,{}),g),h.a.createPortal(Object(u.jsx)(C,{children:t.children}),g)]})},N=n(52),v=n.n(N),k=function(t){return Object(u.jsxs)(f,{onClick:t.onCancel,children:[Object(u.jsx)("div",{className:v.a.total,children:"Are you sure, you want to log out?"}),Object(u.jsxs)("div",{className:v.a.actions,children:[Object(u.jsx)("button",{className:v.a["button--alt"],onClick:t.onCancel,children:"Cancel"}),Object(u.jsx)("button",{className:v.a.button,onClick:t.onConfirm,children:"Confirm"})]})]})},H=n(14),w=n(53),y=n.n(w),M=function(t){var e=t.item,n=e.imageUrl,a=e.name,c=e.quantity,o=e.price;return Object(u.jsxs)("div",{className:y.a["cart-item"],children:[Object(u.jsx)("img",{className:y.a.img,src:n,alt:"cart item"}),Object(u.jsxs)("div",{className:y.a["item-details"],children:[Object(u.jsx)("span",{className:y.a.name,children:a}),Object(u.jsxs)("span",{className:y.a.price,children:[c," x \u20b9",o]})]})]})},L=n(54),D=n.n(L),I=function(t){var e=Object(j.c)((function(t){return t.cart})).items;return Object(u.jsxs)("div",{className:D.a["cart-dropdown"],children:[0!==e.length&&Object(u.jsx)("div",{className:D.a["cart-items"],children:e.map((function(t){return Object(u.jsx)(M,{item:t},t.id)}))}),0!==e.length&&Object(u.jsx)("button",{onClick:t.onGoToCheckout,children:"GO TO CHECKOUT"}),0===e.length&&Object(u.jsx)("p",{className:D.a["empty-message"],children:"Cart Empty"})]})},B=n(55),T=n.n(B),S=n(23),U=n(22),P=function(t){var e=Object(j.c)((function(t){return t.cart})),n=e.items,c=e.totalPrice,o=Object(j.b)(),i=Object(m.useState)(!1),r=Object(a.a)(i,2),l=r[0],d=r[1],b=Object(j.c)((function(t){return t.auth.userData.userId})),_=Object(s.g)(),h=function(t){var e=t.id,n=t.name,a=t.price,c=t.path,s=t.imageUrl;o(S.a.addItem({id:e,name:n,price:a,path:c,imageUrl:s}))},O=function(t){o(S.a.removeItem(t))};return Object(u.jsx)(f,{onClick:t.onCancel,children:Object(u.jsxs)(m.Fragment,{children:[!l&&Object(u.jsxs)("div",{className:T.a.total,children:[Object(u.jsx)("span",{children:"Total Amount"}),Object(u.jsx)("span",{children:c})]}),!l&&Object(u.jsx)("ul",{className:T.a["cart-items"],children:n.map((function(t){return Object(u.jsxs)("li",{className:T.a["cart-item"],children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:t.name}),Object(u.jsxs)("div",{className:T.a.summary,children:[Object(u.jsx)("span",{className:T.a.price,children:t.price}),Object(u.jsxs)("span",{className:T.a.price,children:["X ",t.quantity]})]})]}),Object(u.jsxs)("div",{className:T.a.actions,children:[Object(u.jsx)("button",{onClick:h.bind(null,t),children:"+"}),Object(u.jsx)("button",{onClick:O.bind(null,t.id),children:"-"})]})]})}))}),!l&&Object(u.jsxs)("div",{className:T.a.actions,children:[Object(u.jsx)("button",{className:T.a["button--alt"],onClick:t.onCancel,children:"Cancel"}),0!==n.length&&Object(u.jsx)("button",{className:T.a.button,onClick:function(){d(!0),fetch("https://online-shopping-c8f55-default-rtdb.firebaseio.com/order.json",{method:"POST",body:JSON.stringify({items:n,UserData:b}),headers:{"Content-Type":"application/json"}}).then((function(e){d(!1),console.log(e),o(S.a.clearCart()),alert("Order placed!"),t.onCancel(),_.push("/home")})).catch((function(t){d(!1),console.log(t)}))},children:" Confirm"})]}),l&&Object(u.jsx)(U.a,{})]})})};e.default=function(t){var e=Object(s.g)(),n=Object(j.b)(),c=Object(j.c)((function(t){return t.auth.userData.isLoggedIn})),r=Object(m.useState)(!1),l=Object(a.a)(r,2),d=l[0],_=l[1],h=Object(m.useState)(!1),O=Object(a.a)(h,2),x=O[0],p=O[1],C=Object(m.useState)(!1),g=Object(a.a)(C,2),f=g[0],N=g[1];return Object(u.jsx)("div",{children:Object(u.jsxs)("header",{className:o.a.header,children:[Object(u.jsx)("div",{className:o.a.logo,onClick:function(){e.push("/")},children:"Online Shopping"}),Object(u.jsxs)("nav",{className:o.a.nav,children:[Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:c&&Object(u.jsx)(i.b,{to:"/home",children:"Main Section"})}),c&&Object(u.jsx)("li",{children:Object(u.jsx)("button",{className:o.a.logoutbutton,onClick:function(){_(!0)},children:"Log Out"})}),c&&Object(u.jsx)(b,{onHandle:function(){p(!x)}})]}),d&&Object(u.jsx)(k,{onCancel:function(){_(!1)},onConfirm:function(){_(!1),n(H.a.setUserData({userId:"",isLoggedIn:!1})),e.push("/login")}}),c&&x&&Object(u.jsx)(I,{onGoToCheckout:function(){p(!1),N(!0)}}),f&&Object(u.jsx)(P,{onCancel:function(){N(!1)}})]})]})})}}}]);
//# sourceMappingURL=3.a35746b0.chunk.js.map